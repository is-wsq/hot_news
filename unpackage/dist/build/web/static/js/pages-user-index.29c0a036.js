(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-index"],{3042:function(e,t,i){var s=i("f777");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("967d").default;a("4f0906f8",s,!0,{sourceMap:!1,shadowMode:!1})},"3a1d":function(e,t,i){"use strict";i.r(t);var s=i("d3e4"),a=i.n(s);for(var n in s)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=a.a},abd3:function(e,t,i){"use strict";var s=i("3042"),a=i.n(s);a.a},b802:function(e,t,i){"use strict";i.r(t);var s=i("ed6b"),a=i("3a1d");for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("abd3");var u=i("828b"),r=Object(u["a"])(a["default"],s["b"],s["c"],!1,null,"008c3d47",null,!1,s["a"],void 0);t["default"]=r.exports},d3e4:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("473f"),i("bf0f");var s={name:"user",data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,userId:"",asset:{figure:0,voice:0},userInfo:{},functions:[{name:"新手引导",path:""},{name:"隐私条款",path:""},{name:"用户协议",path:"/pages/user/agreement"},{name:"订单管理",path:""},{name:"联系客服",path:""}]}},mounted:function(){this.userId=uni.getStorageSync("userId")||"",""!==this.userId&&(this.queryUserInfo(),this.queryFigures(),this.queryVoices())},methods:{queryUserInfo:function(){var e=this;this.$http.get("/user/query",{user_id:this.userId}).then((function(t){"success"===t.status&&(e.userInfo=t.data)}))},queryFigures:function(){var e=this;this.$http.get("/figure/query/user",{user_id:uni.getStorageSync("userId")}).then((function(t){"success"===t.status?e.userInfo.figure=t.data.reduce((function(e,t){return"clone"===t.type?e+1:e}),0):e.$tip.toast(t.message)}))},queryVoices:function(){var e=this;this.$http.get("/timbres/query/user",{user_id:uni.getStorageSync("userId")}).then((function(t){"success"===t.status?e.userInfo.voice=t.data.reduce((function(e,t){return"clone"===t.type?e+1:e}),0):e.$tip.toast(t.message)}))},goto:function(e){""!==e&&uni.navigateTo({url:e})}}};t.default=s},ed6b:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s}));var s={uniIcons:i("00f9").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"pages user",style:{height:e.safeAreaHeight-70+"px"}},[""!==e.userId?i("v-uni-view",{staticClass:"user-info"},[i("v-uni-image",{staticClass:"user-avatar",attrs:{src:e.userInfo.avatar,mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/info")}}}),i("v-uni-view",{staticClass:"user-account"},[i("v-uni-view",{staticClass:"user-phone"},[e._v(e._s(e.userInfo.phone))]),i("v-uni-view",{staticClass:"user-identity"},[e._v("普通用户")])],1)],1):i("v-uni-view",{staticClass:"user-info"},[i("v-uni-view",{staticClass:"user-avatar",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/login/login")}}}),i("v-uni-view",{staticClass:"user-account"},[i("v-uni-view",{staticClass:"user-phone"},[e._v("暂未登录")])],1)],1),i("v-uni-view",{staticClass:"identity-card"},[i("v-uni-view",{staticStyle:{display:"flex"}},[i("v-uni-view",{staticStyle:{color:"#BBBBBB","font-size":"14px",flex:"1"}}),i("v-uni-button",{staticClass:"membership",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/voucher")}}},[e._v("开通VIP")])],1),i("v-uni-view",{staticClass:"identity-detail"},[i("v-uni-view",{staticStyle:{"text-align":"center"}},[i("v-uni-view",{staticClass:"detail-value"},[e._v(e._s(e.userInfo.figureBalance||0))]),i("v-uni-view",{staticClass:"detail-name"},[e._v("数字人额度")])],1),i("v-uni-view",{staticStyle:{"text-align":"center"}},[i("v-uni-view",{staticClass:"detail-value"},[e._v(e._s(e.userInfo.integralBalance||0))]),i("v-uni-view",{staticClass:"detail-name"},[e._v("积分余额")])],1)],1)],1),i("v-uni-view",{staticClass:"asset-text"},[e._v("我的资产")]),i("v-uni-view",{staticClass:"asset-list"},[i("v-uni-view",{staticClass:"asset-item"},[i("v-uni-view",{staticClass:"asset-value"},[e._v(e._s(e.userInfo.figure||0))]),i("v-uni-view",{staticClass:"asset-name"},[e._v("我的数字人")])],1),i("v-uni-view",{staticClass:"asset-item"},[i("v-uni-view",{staticClass:"asset-value"},[e._v(e._s(e.userInfo.voice||0))]),i("v-uni-view",{staticClass:"asset-name"},[e._v("我的声音")])],1)],1),i("v-uni-view",{staticClass:"function-list"},[i("v-uni-view",{staticStyle:{"background-color":"#282828","border-radius":"10px",padding:"5px 20px","box-sizing":"border-box"}},e._l(e.functions,(function(t){return i("v-uni-view",{key:t.name,staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goto(t.path)}}},[i("v-uni-view",{staticStyle:{flex:"1",color:"#fff","font-size":"14px","line-height":"40px"}},[e._v(e._s(t.name))]),i("uni-icons",{staticStyle:{"line-height":"40px"},attrs:{type:"right",size:"15",color:"#8c8c8c"}})],1)})),1)],1)],1)},n=[]},f777:function(e,t,i){var s=i("c86c");t=s(!1),t.push([e.i,".user-info[data-v-008c3d47]{height:120px;padding:10px;display:flex;align-items:center;box-sizing:border-box}.user-avatar[data-v-008c3d47]{width:80px;height:80px;margin-right:25px;background-color:#ccc;border-radius:50%}.user-account[data-v-008c3d47]{flex:1}.user-phone[data-v-008c3d47]{color:#fff;font-size:18px;line-height:30px;font-weight:700}.user-identity[data-v-008c3d47]{color:#bbb;font-size:14px;line-height:30px;font-weight:700}.identity-card[data-v-008c3d47]{height:130px;background-image:url(/static/identity-bg1.png);background-size:cover;padding:15px;box-sizing:border-box;border-radius:15px}.membership[data-v-008c3d47]{width:80px;height:35px;background-image:url(/static/voucher-bg.jpg);background-position:bottom;background-repeat:no-repeat; /* 避免图片重复 */color:#fff;font-size:14px}.identity-detail[data-v-008c3d47]{color:#fff;display:flex;height:54px;margin-top:15px;gap:25px}.detail-value[data-v-008c3d47]{line-height:31px;font-size:18px;font-weight:700}.detail-name[data-v-008c3d47]{line-height:23px;font-size:12px}.asset-text[data-v-008c3d47]{margin-top:20px;margin-left:30px;color:#fff;font-size:16px;line-height:35px}.asset-list[data-v-008c3d47]{height:90px;display:flex;gap:22px;justify-content:center;align-items:center}.asset-item[data-v-008c3d47]{width:135px;height:75px;background-color:#282828;border-radius:10px;padding-left:20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center}.asset-value[data-v-008c3d47]{font-size:20px;line-height:30px;font-weight:700;color:#fff}.asset-name[data-v-008c3d47]{font-size:14px;line-height:30px;color:#bbb}.function-list[data-v-008c3d47]{margin-top:15px;height:calc(100% - 430px);overflow-y:auto}",""]),e.exports=t}}]);