(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-template-figure"],{"0aa5":function(e,i,t){"use strict";var a=t("dbda"),s=t.n(a);s.a},"0f7a":function(e,i,t){var a=t("c86c");i=a(!1),i.push([e.i,".figure-type-name[data-v-71a6bb88]{color:#fff;font-size:16px;line-height:50px}.figure-list[data-v-71a6bb88]{height:calc(50% - 90px);background-color:#292929;border-radius:10px;padding:10px;box-sizing:border-box;overflow:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-auto-rows:90px;gap:20px}.figure-item[data-v-71a6bb88]{display:flex;border:1px solid #3a3a3a;padding:10px;border-radius:10px;box-sizing:border-box;flex:1;height:90px}.active-item[data-v-71a6bb88]{border:1px solid #e99d42}.figure-avatar[data-v-71a6bb88]{width:60px;height:70px;border-radius:10px}.clone-figure-icon[data-v-71a6bb88]{border:1px solid #e99d42;line-height:70px}.figure-name[data-v-71a6bb88]{margin-left:10px;flex:1;color:#fff;font-size:14px;line-height:70px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preview-content[data-v-71a6bb88]{background-color:#292929;padding:20px 0;box-sizing:border-box}.preview-title[data-v-71a6bb88]{display:flex;align-items:center;justify-content:center;position:relative;margin-bottom:20px}.preview-close[data-v-71a6bb88]{position:absolute;top:5px;right:10px;color:#fff}.play-icon[data-v-71a6bb88]{height:20px;width:20px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),e.exports=i},1173:function(e,i,t){"use strict";t.r(i);var a=t("c402"),s=t.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){t.d(i,e,(function(){return a[e]}))}(n);i["default"]=s.a},c402:function(e,i,t){"use strict";t("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("bf0f"),t("2797"),t("aa9c");var a={name:"Figure",data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,systems:[],clones:[],selectedFigure:{},src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/2minute-demo.mp4",isPlaying:!1}},mounted:function(){this.queryFigures()},methods:{queryFigures:function(){var e=this;this.systems=[],this.clones=[],this.$http.get("/figure/query/user",{user_id:uni.getStorageSync("userId")}).then((function(i){"success"===i.status?i.data.forEach((function(i){"system"===i.type?e.systems.push(i):e.clones.push(i)})):e.$tip.toast(i.message)}))},previewFigure:function(e){this.selectedFigure=e,this.$refs.previewPopup.open()},controlVideo:function(){this.$refs.video.play(),this.isPlaying=!0},popupClose:function(){this.isPlaying=!1,this.$refs.video.pause(),this.$refs.previewPopup.close()},selectFile:function(){uni.chooseFile({count:1,success:function(e){console.log(e)}})},back:function(){uni.navigateBack()}}};i.default=a},c9d8:function(e,i,t){"use strict";t.d(i,"b",(function(){return s})),t.d(i,"c",(function(){return n})),t.d(i,"a",(function(){return a}));var a={uniIcons:t("00f9").default,uniPopup:t("3182").default},s=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"pages figure",style:{height:e.safeAreaHeight+"px"}},[t("v-uni-view",{staticClass:"nav-bar-header"},[t("uni-icons",{staticClass:"nav-bar-back",attrs:{type:"left",size:"21",color:"#ffffff"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.back.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"nav-bar-title"},[e._v("形象列表")])],1),t("v-uni-view",{staticClass:"figure-type-name"},[e._v("系统形象")]),t("v-uni-view",{staticClass:"figure-list"},e._l(e.systems,(function(i){return t("v-uni-view",{key:i.id,staticClass:"figure-item",class:{"active-item":e.selectedFigure.id===i.id},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFigure(i)}}},[t("v-uni-image",{staticClass:"figure-avatar",attrs:{src:i.picture}}),t("v-uni-view",{staticClass:"figure-name"},[e._v(e._s(i.name))])],1)})),1),t("v-uni-view",{staticClass:"figure-type-name"},[e._v("克隆形象")]),t("v-uni-view",{staticClass:"figure-list"},[t("v-uni-view",{staticClass:"figure-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectFile.apply(void 0,arguments)}}},[t("uni-icons",{staticClass:"figure-avatar clone-figure-icon",attrs:{type:"plusempty",size:"25",color:"#e99d42"}}),t("v-uni-view",{staticClass:"figure-name",staticStyle:{color:"#e99d42 !important"}},[e._v("克隆形象")])],1),e._l(e.clones,(function(i){return t("v-uni-view",{key:i.id,staticClass:"figure-item",class:{"figure-item":e.selectedFigure.id===i.id},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFigure(i)}}},[t("v-uni-image",{staticClass:"figure-avatar",attrs:{src:i.avatar}}),t("v-uni-view",{staticClass:"figure-name"},[e._v(e._s(i.name))])],1)}))],2),t("uni-popup",{ref:"previewPopup",attrs:{"mask-click":!1,type:"bottom"}},[t("v-uni-view",{staticClass:"preview-content",style:{height:e.safeAreaHeight+"px"}},[t("v-uni-view",{staticClass:"preview-title"},[t("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"16px"}},[e._v("[ "+e._s(e.selectedFigure.name)+" ] 形象预览")]),t("uni-icons",{staticClass:"preview-close",attrs:{type:"closeempty",size:"20",color:"#ffffff"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.popupClose.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticStyle:{height:"calc(100% - 30px)",position:"relative"}},[t("uni-icons",{staticClass:"preview-close",attrs:{type:"closeempty",size:"20",color:"#ffffff"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.popupClose.apply(void 0,arguments)}}}),t("v-uni-video",{ref:"video",staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,controls:!1,"show-center-play-btn":!1}}),e.isPlaying?e._e():t("uni-icons",{staticClass:"play-icon",attrs:{"custom-prefix":"iconfont",type:"icon-play",size:"20",color:"#ffffff"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.controlVideo.apply(void 0,arguments)}}})],1)],1)],1)],1)},n=[]},d5c4:function(e,i,t){"use strict";t.r(i);var a=t("c9d8"),s=t("1173");for(var n in s)["default"].indexOf(n)<0&&function(e){t.d(i,e,(function(){return s[e]}))}(n);t("0aa5");var o=t("828b"),r=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"71a6bb88",null,!1,a["a"],void 0);i["default"]=r.exports},dbda:function(e,i,t){var a=t("0f7a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=t("967d").default;s("1c7a843b",a,!0,{sourceMap:!1,shadowMode:!1})}}]);