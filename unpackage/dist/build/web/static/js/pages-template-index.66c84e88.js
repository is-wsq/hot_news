(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-template-index"],{"1ec6":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("00f9").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pages templates",style:{height:t.safeAreaHeight-69.8+"px"}},[i("v-uni-view",{staticClass:"clone-cards"},[i("v-uni-view",{staticClass:"card figure-bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/template/figureClone")}}},[t._v("形象克隆")]),i("v-uni-view",{staticClass:"card voice-bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/template/voicesClone")}}},[t._v("声音克隆")])],1),i("v-uni-view",{staticStyle:{"font-size":"18px",color:"#fff","line-height":"50px",display:"flex"}},[i("v-uni-view",{staticStyle:{flex:"1"}},[t._v("我的作品")]),i("uni-icons",{attrs:{type:"right",size:"21",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/template/videoList")}}})],1),i("v-uni-view",{staticClass:"video-list",staticStyle:{height:"calc(100% - 180px)"}},[t._l(t.processList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"video-item"},[i("v-uni-view",{staticClass:"image-wrapper shining"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:"/static/img/20.png"}}),i("v-uni-view",{staticClass:"shine-layer"}),i("v-uni-view",{staticClass:"loading-title"},[i("v-uni-view",[t._v("视频生成中")]),i("v-uni-view",{staticClass:"dot"},[t._v(t._s(t.dot))])],1)],1),i("v-uni-view",{staticClass:"item-title",staticStyle:{"margin-top":"1px"}},[t._v(t._s(e.filename))])],1)})),t._l(t.videoList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"video-item"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:e.picture}}),i("v-uni-view",{staticClass:"item-title"},[t._v(t._s(e.filename))])],1)}))],2)],1)},s=[]},"636f":function(t,e,i){"use strict";i.r(e);var n=i("1ec6"),a=i("db3f");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("b86d4");var o=i("828b"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"f892f360",null,!1,n["a"],void 0);e["default"]=r.exports},"69c4":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8f71"),i("bf0f"),i("a578");var a=n(i("9b1b")),s=i("8f59"),o={name:"templates",data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,userId:"",showReel:[],dotCount:1,dotTimer:null,dot:"."}},computed:(0,a.default)((0,a.default)({},(0,s.mapGetters)("task",["videoTasks"])),{},{processList:function(){return this.videoTasks.filter((function(t){return"pending"===t.status}))},videoList:function(){return this.videoTasks.filter((function(t){return"success"===t.status}))}}),mounted:function(){this.startDotAnimation(),this.$store.dispatch("task/pollVideoTasks")},beforeDestroy:function(){clearInterval(this.dotTimer)},methods:{startDotAnimation:function(){var t=this;this.dotTimer=setInterval((function(){t.dotCount=t.dotCount%3+1,t.dot=".".repeat(t.dotCount)}),1e3)},toLogin:function(){uni.setStorageSync("login_router",{type:"switchTab",path:"/pages/template/index"}),uni.redirectTo({url:"/pages/login/login"})},goto:function(t){var e=this,i=uni.getStorageSync("userId")||"";""!==i?uni.redirectTo({url:t}):this.$tip.confirm("请先登录",!1).then((function(){e.toLogin()}))}}};e.default=o},a578:function(t,e,i){"use strict";var n=i("8bdb"),a=i("f298");n({target:"String",proto:!0},{repeat:a})},b86d4:function(t,e,i){"use strict";var n=i("ec53"),a=i.n(n);a.a},c57b:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".clone-cards[data-v-f892f360]{display:flex;gap:20px;padding-top:20px}.card[data-v-f892f360]{flex:1;display:flex;justify-content:center;align-items:center;height:100px;color:#fff;font-size:20px;border-radius:10px;background-size:cover;background-repeat:no-repeat}.figure-bg[data-v-f892f360]{background-image:url(/static/figure-bg.png)}.voice-bg[data-v-f892f360]{background-image:url(/static/voice-bg.png)}.video-list[data-v-f892f360]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-template-rows:230px;gap:10px;justify-items:center;overflow:auto}.item-img[data-v-f892f360]{width:150px;height:200px;border-radius:10px}.item-img.blurred[data-v-f892f360]{-webkit-filter:blur(15px);filter:blur(15px);opacity:.8}.loading-title[data-v-f892f360]{position:absolute;color:#fff;font-size:14px;width:100%;text-align:center;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:flex;align-items:center;justify-content:center}.dot[data-v-f892f360]{width:20px;text-align:left;margin-left:5px;font-size:16px;line-height:40px}.item-title[data-v-f892f360]{font-size:14px;color:#fff;width:150px;text-align:center;margin-top:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}",""]),t.exports=e},db3f:function(t,e,i){"use strict";i.r(e);var n=i("69c4"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},ec53:function(t,e,i){var n=i("c57b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("b2cfe0b4",n,!0,{sourceMap:!1,shadowMode:!1})},f298:function(t,e,i){"use strict";var n=i("497b"),a=i("9e70"),s=i("862c"),o=RangeError;t.exports=function(t){var e=a(s(this)),i="",r=n(t);if(r<0||r===1/0)throw new o("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}}}]);