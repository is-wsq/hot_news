(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-copy"],{"071f":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".regenerate[data-v-cbcda49c]{position:absolute;right:5px;color:#fff;font-size:14px}.copy-content[data-v-cbcda49c]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100% - 250px)}.copy-card[data-v-cbcda49c]{width:100%;height:calc(100% - 30px);margin-top:10px;border-radius:20px;background-color:#303030;padding:10px;box-sizing:border-box}.copy-script[data-v-cbcda49c]{height:calc(100% - 20px);overflow-y:auto;color:#9a9a9a}.warning[data-v-cbcda49c]{color:#9a9a9a;font-size:14px;margin:10px 0}.copy-setting[data-v-cbcda49c]{margin-bottom:10px;margin-left:10px}.setting-item[data-v-cbcda49c]{color:#fff;font-size:16px;height:35px;line-height:35px;display:flex;align-items:center}.setting-name[data-v-cbcda49c]{width:80px;overflow-x:auto;white-space:nowrap;margin-right:5px}.copy-btn[data-v-cbcda49c]{background-color:#e99d42;width:230px;margin:0 auto;font-size:14px;border-radius:15px;color:#101010}.popup-content[data-v-cbcda49c]{background-color:#292929;border-top-left-radius:12px;border-top-right-radius:12px;padding:20px}.popup-title[data-v-cbcda49c]{display:flex;align-items:center;justify-content:center;position:relative}.popup-close[data-v-cbcda49c]{position:absolute;top:5px;right:0;color:#fff}.voice-content[data-v-cbcda49c]{width:100%;height:220px;display:flex;gap:20px;overflow-x:auto;flex-wrap:nowrap;align-items:center}.voice-item[data-v-cbcda49c]{width:80px;height:80px;border-radius:50%;background-color:#9a9a9a}.figure-content[data-v-cbcda49c]{width:100%;height:250px;display:flex;gap:20px;overflow-x:auto;flex-wrap:nowrap;align-items:center}.figure-item[data-v-cbcda49c]{width:100px;height:130px;border-radius:20px}",""]),t.exports=e},1198:function(t,e,i){"use strict";i.r(e);var n=i("cd09"),c=i("d9a6");for(var s in c)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return c[t]}))}(s);i("44b3");var a=i("828b"),o=Object(a["a"])(c["default"],n["b"],n["c"],!1,null,"cbcda49c",null,!1,n["a"],void 0);e["default"]=o.exports},"44b3":function(t,e,i){"use strict";var n=i("693a"),c=i.n(n);c.a},"693a":function(t,e,i){var n=i("071f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var c=i("967d").default;c("0eb2822a",n,!0,{sourceMap:!1,shadowMode:!1})},a559:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"Detail",data:function(){return{safeAreaHeight:0,newsId:null,word:0,styleId:"",isEdit:!1,focus:!1,title:"",script:"",voices:[],voice:{},selectedVoice:{},figures:[],figure:{},selectedFigure:{}}},onLoad:function(t){this.newsId=t.newsId,this.word=t.word,this.styleId=t.style},mounted:function(){this.queryTitleAndScript(),this.queryVoices(),this.queryFigures()},methods:{queryFigures:function(){var t=this,e=uni.getStorageSync("userId");this.$http.get("/figure/query/user",{user_id:e}).then((function(e){"success"===e.status?(t.figures=e.data,t.figures.length>0&&(t.figure=t.figures[0],t.selectedFigure=t.figures[0])):t.$tip.toast(e.message)}))},queryVoices:function(){var t=this,e=uni.getStorageSync("userId");this.$http.get("/timbres/query/user",{user_id:e}).then((function(e){"success"===e.status?(t.voices=e.data,t.voices.length>0&&(t.voice=t.voices[0],t.selectedVoice=t.voices[0])):t.$tip.toast(e.message)}))},generate:function(){var t=this,e={style_id:this.styleId,news_id:this.newsId,count:this.word};uni.showLoading({title:"口播文案生成中...",mask:!0}),this.$http.post("/copywriting/voice",e,3e5).then((function(e){"success"===e.status?(t.script=e.data.script,uni.hideLoading()):t.$tip.toast(e.message)}))},queryTitleAndScript:function(){var t=this,e=uni.getStorageSync("userId");this.script=uni.getStorageSync("".concat(e,"_script")),this.$http.get("/news/query",{id:this.newsId}).then((function(e){"success"===e.status&&(t.title=e.data.title)}))},voiceSure:function(){this.voice=this.selectedVoice,this.$refs.voicePopup.close()},figureSure:function(){this.figure=this.selectedFigure,this.$refs.figurePopup.close()},copy:function(){var t=this;uni.setClipboardData({data:t.script,showToast:!1,success:function(){t.$tip.toast("复制成功")}})},back:function(){uni.navigateBack()},edit:function(){this.focus=!this.focus,this.isEdit=!this.isEdit}},created:function(){this.safeAreaHeight=uni.getSystemInfoSync().safeArea.height}};e.default=n},cd09:function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("00f9").default,uniPopup:i("3182").default},c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pages copy",style:{height:t.safeAreaHeight+"px"}},[i("v-uni-view",{staticClass:"nav-bar-header"},[i("uni-icons",{staticClass:"nav-bar-back",attrs:{type:"left",size:"24",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"nav-bar-title"},[t._v("口播文案")]),i("v-uni-view",{staticClass:"regenerate",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.generate.apply(void 0,arguments)}}},[t._v("重新生成")])],1),i("v-uni-view",{staticClass:"copy-content"},[i("v-uni-view",{staticStyle:{color:"#ffffff",display:"flex","justify-content":"center","align-items":"center"}},[t.isEdit?i("v-uni-input",{staticStyle:{height:"23px","line-height":"23px"},style:{width:16*String(t.title).length+"px",maxWidth:"200px"},attrs:{type:"text",focus:t.focus,placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}):i("v-uni-view",{staticStyle:{height:"23px","line-height":"23px"}},[t._v(t._s(t.title))]),i("v-uni-image",{staticStyle:{width:"14px",height:"14px","margin-left":"10px"},attrs:{src:"/static/edit_pan.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"copy-card"},[i("v-uni-view",{staticClass:"copy-script"},[t._v(t._s(t.script))]),i("v-uni-view",{staticStyle:{height:"20px","text-align":"end"}},[i("v-uni-image",{staticStyle:{width:"18px",height:"18px","margin-top":"5px","margin-right":"3px"},attrs:{src:"/static/copy_icon.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"warning"},[t._v("内容由大模型AI生成，禁止从事违法活动")]),i("v-uni-view",{staticClass:"copy-setting"},[i("v-uni-view",{staticClass:"setting-item"},[i("v-uni-view",{staticStyle:{flex:"1"}},[t._v("声音选择")]),i("v-uni-view",{staticClass:"setting-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.voicePopup.open.apply(void 0,arguments)}}},[t._v(t._s(t.voice.name))]),i("uni-icons",{attrs:{type:"right",size:"20",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.voicePopup.open.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"setting-item"},[i("v-uni-view",{staticStyle:{flex:"1"}},[t._v("形象选择")]),i("v-uni-view",{staticClass:"setting-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.figurePopup.open.apply(void 0,arguments)}}},[t._v(t._s(t.figure.name))]),i("uni-icons",{attrs:{type:"right",size:"20",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.figurePopup.open.apply(void 0,arguments)}}})],1)],1),i("v-uni-button",{staticClass:"copy-btn"},[t._v("口播视频生成")]),i("uni-popup",{ref:"voicePopup",attrs:{"mask-click":!1,type:"bottom"}},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-view",{staticClass:"popup-title"},[i("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"16px"}},[t._v("声音")]),i("uni-icons",{staticClass:"popup-close",attrs:{type:"closeempty",size:"18",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.voicePopup.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"voice-content"},t._l(t.voices,(function(e){return i("v-uni-view",{key:e.id,staticStyle:{flex:"none","text-align":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectedVoice=e}}},[i("v-uni-view",{staticClass:"voice-item",style:{border:e.id===t.selectedVoice.id?"2px solid #e99d42":""}}),i("v-uni-view",{staticStyle:{"margin-top":"10px","font-size":"14px"},style:{color:e.id===t.selectedVoice.id?"#e99d42":"#ffffff"}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-button",{staticClass:"copy-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceSure.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),i("uni-popup",{ref:"figurePopup",attrs:{"mask-click":!1,type:"bottom"}},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-view",{staticClass:"popup-title"},[i("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"16px"}},[t._v("形象")]),i("uni-icons",{staticClass:"popup-close",attrs:{type:"closeempty",size:"18",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.figurePopup.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"figure-content"},t._l(t.figures,(function(e){return i("v-uni-view",{key:e.id,staticStyle:{flex:"none","text-align":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectedFigure=e}}},[i("v-uni-image",{staticClass:"figure-item",style:{border:e.id===t.selectedFigure.id?"2px solid #e99d42":""},attrs:{src:e.picture}}),i("v-uni-view",{staticStyle:{"margin-top":"10px","font-size":"14px"},style:{color:e.id===t.selectedFigure.id?"#e99d42":"#ffffff"}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-button",{staticClass:"copy-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.figureSure.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)},s=[]},d9a6:function(t,e,i){"use strict";i.r(e);var n=i("a559"),c=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=c.a}}]);