(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-index"],{"0d8c":function(e,t,i){var a=i("5a9a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("07343174",a,!0,{sourceMap:!1,shadowMode:!1})},"3a1d":function(e,t,i){"use strict";i.r(t);var a=i("d3e4"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"5a7e":function(e,t,i){"use strict";var a=i("0d8c"),n=i.n(a);n.a},"5a9a":function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,".user-info[data-v-4e981acd]{height:80px;padding:10px;display:flex;align-items:center;box-sizing:border-box}.user-avatar[data-v-4e981acd]{width:60px;height:60px;margin-right:25px;background-color:#ccc;border-radius:50%}.user-account[data-v-4e981acd]{flex:1}.user-phone[data-v-4e981acd]{color:#fff;font-size:18px;line-height:30px;font-weight:700}.user-identity[data-v-4e981acd]{color:#bbb;font-size:14px;line-height:30px;font-weight:700;margin-right:10px}.identity-card[data-v-4e981acd]{height:130px;background-image:url(/static/voucher-bg.jpg);background-size:cover;background-position:0 210px;padding:10px 15px;box-sizing:border-box;border-radius:12px}.membership[data-v-4e981acd]{width:80px;height:35px;border-radius:8px;background-image:url(/static/voucher-bg.jpg);background-position:80px 170px;background-size:revert;background-color:#e5e5e5;box-shadow:0 2px 6px rgba(0,0,0,.5);color:#fff;font-size:14px}.identity-detail[data-v-4e981acd]{width:calc(100% - 50px);color:#fff;display:flex;justify-content:space-between;height:54px;margin-top:20px;gap:25px}.detail-value[data-v-4e981acd]{line-height:31px;font-size:18px;font-weight:700}.detail-name[data-v-4e981acd]{line-height:23px;font-size:12px}.asset-text[data-v-4e981acd]{margin-top:5px;margin-left:15px;color:#fff;font-size:16px;line-height:35px}.asset-list[data-v-4e981acd]{margin-top:5px;display:flex;gap:22px}.asset-item[data-v-4e981acd]{flex:1;height:75px;background-color:#282828;border-radius:10px;padding-left:20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center}.asset-value[data-v-4e981acd]{font-size:20px;line-height:30px;font-weight:700;color:#fff}.asset-name[data-v-4e981acd]{font-size:14px;line-height:30px;color:#bbb}.function-list[data-v-4e981acd]{margin-top:15px;height:calc(100% - 330px);overflow-y:auto}",""]),e.exports=t},b802:function(e,t,i){"use strict";i.r(t);var a=i("d29c"),n=i("3a1d");for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("5a7e");var r=i("828b"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"4e981acd",null,!1,a["a"],void 0);t["default"]=o.exports},d29c:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var a={uniIcons:i("00f9").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"pages user",style:{height:e.safeAreaHeight-69.8+"px"}},[""!==e.userId?i("v-uni-view",{staticClass:"user-info"},[i("v-uni-image",{staticClass:"user-avatar",attrs:{mode:"aspectFill",src:e.userInfo.avatar},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/info")}}}),i("v-uni-view",{staticClass:"user-account"},[i("v-uni-view",{staticClass:"user-phone"},[e._v(e._s(e.userInfo.username))]),i("v-uni-view",{staticStyle:{display:"flex"}},[i("v-uni-view",{staticClass:"user-identity"},[e._v(e._s(e.userTypeName))]),0!==e.userInfo.userType?i("v-uni-view",{staticStyle:{"font-size":"12px",color:"#BBBBBB","line-height":"30px"}},[e._v(e._s("有效期至"+e.expireTime))]):e._e()],1)],1)],1):i("v-uni-view",{staticClass:"user-info",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLogin.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"user-avatar"}),i("v-uni-view",{staticClass:"user-account"},[i("v-uni-view",{staticClass:"user-phone"},[e._v("暂未登录")])],1)],1),i("v-uni-view",{staticClass:"identity-card"},[i("v-uni-view",{staticStyle:{display:"flex"}},[i("v-uni-view",{staticStyle:{color:"#BBBBBB","font-size":"14px",flex:"1"}}),i("v-uni-button",{staticClass:"membership",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openVIP.apply(void 0,arguments)}}},[e._v("开通VIP")])],1),i("v-uni-view",{staticClass:"identity-detail"},[i("v-uni-view",{staticStyle:{"text-align":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/figureRecharge")}}},[i("v-uni-view",{staticClass:"detail-value"},[e._v(e._s(e.userInfo.figureBalance||0))]),i("v-uni-view",{staticClass:"detail-name"},[e._v("数字人额度")])],1),i("v-uni-view",{staticStyle:{"text-align":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/voiceRecharge")}}},[i("v-uni-view",{staticClass:"detail-value"},[e._v(e._s(e.userInfo.timbreBalance||0))]),i("v-uni-view",{staticClass:"detail-name"},[e._v("声音额度")])],1),i("v-uni-view",{staticStyle:{"text-align":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/integral")}}},[i("v-uni-view",{staticClass:"detail-value"},[e._v(e._s(e.userInfo.points||0))]),i("v-uni-view",{staticClass:"detail-name"},[e._v("积分余额")])],1)],1)],1),i("v-uni-view",{staticClass:"asset-text"},[e._v("我的资产")]),i("v-uni-view",{staticClass:"asset-list"},[i("v-uni-view",{staticClass:"asset-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/figure")}}},[i("v-uni-view",{staticClass:"asset-value"},[e._v(e._s(e.userInfo.figure||0))]),i("v-uni-view",{staticClass:"asset-name"},[e._v("我的数字人")])],1),i("v-uni-view",{staticClass:"asset-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/user/voice")}}},[i("v-uni-view",{staticClass:"asset-value"},[e._v(e._s(e.userInfo.timbre||0))]),i("v-uni-view",{staticClass:"asset-name"},[e._v("我的声音")])],1)],1),i("v-uni-view",{staticClass:"function-list"},[i("v-uni-view",{staticStyle:{"background-color":"#282828","border-radius":"10px",padding:"5px 20px","box-sizing":"border-box"}},e._l(e.functions,(function(t){return i("v-uni-view",{key:t.name,staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.goto(t.path)}}},[i("v-uni-view",{staticStyle:{flex:"1",color:"#fff","font-size":"14px","line-height":"40px"}},[e._v(e._s(t.name))]),i("uni-icons",{staticStyle:{"line-height":"40px"},attrs:{type:"right",size:"15",color:"#8c8c8c"}})],1)})),1)],1)],1)},s=[]},d3e4:function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("aa77"),i("bf0f"),i("5c47"),i("a1c1");var n=a(i("2634")),s=a(i("2fdc")),r={name:"user",data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,userId:"",userInfo:{},userTypeNames:[{type:0,name:"普通用户"},{type:1,name:"月会员"},{type:2,name:"季会员"},{type:3,name:"年会员"}],userTypeName:"",expireTime:"",functions:[{name:"隐私条款",path:"/pages/agreement/privacy?back=index"},{name:"用户协议",path:"/pages/agreement/user?back=index"},{name:"付费服务协议",path:"/pages/agreement/membership?back=index"},{name:"历史生成文案",path:"/pages/user/historyCopy"},{name:"订单管理",path:"/pages/user/order"},{name:"联系客服",path:"/pages/user/contactUs"}]}},onShow:function(){this.userId=uni.getStorageSync("userId")||"",""!==this.userId&&this.queryUserInfo()},methods:{queryUserInfo:function(){var e=this;this.$http.get("/user/query",{user_id:this.userId}).then(function(){var t=(0,s.default)((0,n.default)().mark((function t(i){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:"success"===i.status&&(e.userInfo=i.data,e.userTypeName=e.userTypeNames.find((function(t){return t.type===e.userInfo.userType})).name,e.expireTime=e.userInfo.expire_time?e.userInfo.expire_time.replace("T"," "):"");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},openVIP:function(){var e=this;""!==this.userId?(uni.removeStorageSync("packageId"),this.goto("/pages/user/voucher")):this.$tip.confirm("请先登录",!1).then((function(){e.toLogin()}))},toLogin:function(){uni.setStorageSync("login_router",{type:"switchTab",path:"/pages/user/index"}),uni.redirectTo({url:"/pages/login/login"})},goto:function(e){""!==e&&uni.redirectTo({url:e})}}};t.default=r}}]);