(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"027e":function(t,o,i){var n=i("c86c");o=n(!1),o.push([t.i,".login[data-v-01a9c75a]{position:relative;background-color:#000;height:100vh!important}.title[data-v-01a9c75a]{font-size:60px;font-weight:700;position:absolute;top:calc(50% - 50px);left:calc(50% - 63px)}.login[data-v-01a9c75a] .uni-forms-item{margin-bottom:20px}.login[data-v-01a9c75a] .uni-forms-item__label{font-size:14px;color:#fff}.login[data-v-01a9c75a] .uni-forms-item.is-direction-top .uni-forms-item__label{padding:0 0 6px!important}.logo-img[data-v-01a9c75a]{width:100%;position:relative}.login-box[data-v-01a9c75a]{position:absolute;bottom:0;width:100%;height:528px;background-color:#292929;border-top-left-radius:30px;border-top-right-radius:30px;padding:30px;display:flex;flex-direction:column;box-sizing:border-box}.welcome[data-v-01a9c75a]{font-size:22px;font-weight:700;margin-bottom:10px;text-align:center;color:#fff}.subtitle[data-v-01a9c75a]{font-size:14px;color:#bbb;margin-bottom:10px;text-align:center}.form-input[data-v-01a9c75a]{height:48px;padding:0 10px;border-radius:5px;box-sizing:border-box;background-color:#5f5f5f;color:#fff}.send-sms-button[data-v-01a9c75a]{position:absolute;top:0;right:12px;color:#fff;font-size:16px;line-height:48px}.forgot-password[data-v-01a9c75a]{font-size:14px;color:#bbb;cursor:pointer;margin:0 auto}.login-button[data-v-01a9c75a]{width:100%;height:50px;line-height:50px;background:#e99d42;color:#fff;font-size:16px;border-radius:12px;margin:25px 0}.signup-button[data-v-01a9c75a]{width:100%;height:50px;line-height:50px;background:#fff;color:#1e1f20;font-size:16px;border-radius:12px}",""]),t.exports=o},"133a":function(t,o,i){var n=i("027e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("6f22725a",n,!0,{sourceMap:!1,shadowMode:!1})},"4ee8":function(t,o,i){"use strict";i.r(o);var n=i("d410"),a=i.n(n);for(var e in n)["default"].indexOf(e)<0&&function(t){i.d(o,t,(function(){return n[t]}))}(e);o["default"]=a.a},"905e":function(t,o,i){"use strict";i.d(o,"b",(function(){return a})),i.d(o,"c",(function(){return e})),i.d(o,"a",(function(){return n}));var n={uniForms:i("f529").default,uniFormsItem:i("79b6").default},a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",{staticClass:"login"},[i("v-uni-view",{staticClass:"logo-img"},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"/static/login/bg-black.jpeg",mode:"widthFix"}}),i("v-uni-view",{staticClass:"title"},[i("span",{staticStyle:{color:"#fff"}},[t._v("奇")]),i("span",{staticStyle:{color:"#E1C59CD9","margin-left":"6px"}},[t._v("点")])])],1),i("v-uni-view",{staticClass:"login-box"},[i("v-uni-text",{staticClass:"welcome"},[t._v("欢迎回来 !")]),i("v-uni-text",{staticClass:"subtitle"},[t._v("登陆后继续")]),i("uni-forms",{ref:"loginForm",attrs:{"label-position":"top"}},[i("uni-forms-item",{attrs:{name:"phone",label:"手机号"}},[i("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.loginFormData.phone,callback:function(o){t.$set(t.loginFormData,"phone",o)},expression:"loginFormData.phone"}})],1),i("uni-forms-item",{staticStyle:{position:"relative"},attrs:{name:"password",label:0===t.loginType?"密码":"验证码"}},[0===t.loginType?i("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0},model:{value:t.loginFormData.password,callback:function(o){t.$set(t.loginFormData,"password",o)},expression:"loginFormData.password"}}):i("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0},model:{value:t.loginFormData.sms,callback:function(o){t.$set(t.loginFormData,"sms",o)},expression:"loginFormData.sms"}}),1===t.loginType?i("v-uni-view",{staticClass:"send-sms-button",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.onSMSSend.apply(void 0,arguments)}}},[t._v(t._s(t.getSendBtnText))]):t._e()],1)],1),i("v-uni-view",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between"}},[i("v-uni-text",{staticClass:"forgot-password"},[t._v("忘记密码？")]),i("v-uni-text",{staticClass:"forgot-password",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.loginType=1-t.loginType}}},[t._v(t._s(0===t.loginType?"短信登陆":"密码登陆"))])],1),i("v-uni-button",{staticClass:"login-button",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.login.apply(void 0,arguments)}}},[t._v("登陆")]),i("v-uni-button",{staticClass:"signup-button",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.gotoRegister.apply(void 0,arguments)}}},[t._v("创建账户")])],1)],1)},e=[]},a2a9:function(t,o,i){"use strict";var n=i("133a"),a=i.n(n);a.a},c6d1:function(t,o,i){"use strict";i.r(o);var n=i("905e"),a=i("4ee8");for(var e in a)["default"].indexOf(e)<0&&function(t){i.d(o,t,(function(){return a[t]}))}(e);i("a2a9");var s=i("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"01a9c75a",null,!1,n["a"],void 0);o["default"]=r.exports},d410:function(t,o,i){"use strict";i("6a54"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,i("23f4"),i("7d2f"),i("5c47"),i("9c4e"),i("ab80"),i("0506");var n={data:function(){return{safe:uni.getSystemInfoSync().safeArea,loginType:0,loginFormData:{phone:"",password:"",sms:""},registerFormData:{phone:"",password:"",rePassword:""},smsCountDown:0,type:"",path:""}},computed:{isSendSMSEnable:function(){return this.smsCountDown<=0},getSendBtnText:function(){return this.smsCountDown>0?this.smsCountDown+"秒后发送":"发送验证码"}},onLoad:function(t){this.type=t.type,this.path=t.path},methods:{login:function(){var t=new RegExp(/^[1]([3-9])[0-9]{9}$/);this.loginFormData.phone&&0!==this.loginFormData.phone.length?t.test(this.loginFormData.phone)?0===this.loginType?this.onPasswordLogin():this.onSMSLogin():this.$tip.toast("请输入正确的手机号",2e3):this.$tip.toast("请填写手机号",2e3)},gotoRegister:function(){uni.redirectTo({url:"/pages/login/register"})},onPasswordLogin:function(){var t=this;if(this.loginFormData.password){var o={phone:this.loginFormData.phone,password:this.loginFormData.password};this.$http.post("/user/login",o).then((function(o){"success"===o.status?(uni.setStorageSync("userId",o.data.user_id),"switchTab"===t.type?uni.switchTab({url:t.path}):uni.redirectTo({url:t.path})):t.$tip.toast(o.message,5e3)}))}else this.$tip.toast("请输入密码",2e3)},onSMSLogin:function(){this.loginFormData.sms&&0!==this.loginFormData.sms.length?console.log(222):this.$tip.toast("请填短信验证码",2e3)},onSMSSend:function(){if(this.isSendSMSEnable){var t=new RegExp(/^[1]([3-9])[0-9]{9}$/);this.loginFormData.phone&&0!==this.loginFormData.phone.length?t.test(this.loginFormData.phone)?(this.smsCountDown=60,this.startSMSTimer()):this.$tip.toast("请输入正确的手机号",2e3):this.$tip.toast("请填写手机号",2e3)}},startSMSTimer:function(){var t=this;this.smsCountInterval=setInterval((function(){t.smsCountDown--,t.smsCountDown<=0&&clearInterval(t.smsCountInterval)}),1e3)},resetData:function(){this.loginType=0,this.loginFormData={phone:"",password:"",sms:""}}}};o.default=n}}]);