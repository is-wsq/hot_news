(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-register"],{"0fae":function(t,e,s){var i=s("c86c");e=i(!1),e.push([t.i,".register[data-v-73fef1c8]{position:relative;background-color:#000;height:100vh!important}.title[data-v-73fef1c8]{font-size:60px;font-weight:700;position:absolute;top:calc(50% - 50px);left:calc(50% - 63px)}.register[data-v-73fef1c8] .uni-forms-item{margin-bottom:20px}.register[data-v-73fef1c8] .uni-forms-item__label{font-size:14px;color:#fff}.register[data-v-73fef1c8] .uni-forms-item.is-direction-top .uni-forms-item__label{padding:0 0 6px!important}.logo-img[data-v-73fef1c8]{width:100%;position:relative}.register-box[data-v-73fef1c8]{position:absolute;bottom:0;width:100%;height:528px;background-color:#292929;border-top-left-radius:30px;border-top-right-radius:30px;padding:30px;display:flex;flex-direction:column;box-sizing:border-box}.welcome[data-v-73fef1c8]{font-size:22px;font-weight:700;text-align:center;margin-bottom:10px;color:#fff}.subtitle[data-v-73fef1c8]{font-size:14px;color:#bbb;margin-bottom:30px;text-align:center}.form-input[data-v-73fef1c8]{height:48px;padding:0 10px;border-radius:5px;box-sizing:border-box;background-color:#5f5f5f;color:#fff}.send-sms-button[data-v-73fef1c8]{position:absolute;top:0;right:12px;color:#fff;font-size:16px;line-height:48px}.forgot-password[data-v-73fef1c8]{font-size:14px;color:#bbb;cursor:pointer;margin:0 auto}.register-button[data-v-73fef1c8]{width:100%;height:50px;line-height:50px;background:#e99d42;color:#fff;font-size:16px;border-radius:12px;margin:30px 0}",""]),t.exports=e},"107f":function(t,e,s){"use strict";s("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s("23f4"),s("7d2f"),s("5c47"),s("9c4e"),s("ab80"),s("0506");var i={data:function(){return{safe:uni.getSystemInfoSync().safeArea,registerFormData:{phone:"",sms:"",password:"",rePassword:""},isVerify:!0,smsCountDown:0,routeTo:""}},computed:{isSendSMSEnable:function(){return this.smsCountDown<=0},getSendBtnText:function(){return this.smsCountDown>0?this.smsCountDown+"秒后发送":"发送验证码"}},onLoad:function(t){this.routeTo=t.type},methods:{onSMSSend:function(){var t=this;if(this.isSendSMSEnable){var e=new RegExp(/^[1]([3-9])[0-9]{9}$/);if(this.registerFormData.phone&&0!==this.registerFormData.phone.length)if(e.test(this.registerFormData.phone)){var s={phone:this.registerFormData.phone,usage:"register"};this.$http.post("/sms/send",s).then((function(e){"success"===e.status?(t.smsCountDown=60,t.startSMSTimer(),t.$tip.toast("短信验证码发送成功",2e3)):t.$tip.toast(e.message,2e3)}))}else this.$tip.toast("请输入正确的手机号",2e3);else this.$tip.toast("请填写手机号",2e3)}},startSMSTimer:function(){var t=this;this.smsCountInterval=setInterval((function(){t.smsCountDown--,t.smsCountDown<=0&&clearInterval(t.smsCountInterval)}),1e3)},verify:function(){var t=this,e=new RegExp(/^[1]([3-9])[0-9]{9}$/);if(this.registerFormData.phone&&0!==this.registerFormData.phone.length)if(e.test(this.registerFormData.phone)){var s={phone:this.registerFormData.phone,code:this.registerFormData.sms,usage:"register"};this.$http.post("/sms/verify",s).then((function(e){"success"===e.status?(t.$tip.toast("验证成功，请设置密码",1e3),t.isVerify=!1):t.$tip.toast(e.message,2e3)}))}else this.$tip.toast("请输入正确的手机号",2e3);else this.$tip.toast("请填写手机号",2e3)},register:function(){var t=this;if(this.registerFormData.password&&0!==this.registerFormData.password.length)if(this.registerFormData.password===this.registerFormData.rePassword){var e={phone:this.registerFormData.phone,password:this.registerFormData.password};this.$http.post("/user/register",e).then((function(e){"success"===e.status?(t.$tip.toast("注册成功，请登录"),t.resetData(),uni.redirectTo({url:"/pages/login/login?type=switchTab&path=/pages/home/index"})):t.$tip.toast(e.message,5e3)}))}else this.$tip.toast("两次密码不一致",2e3);else this.$tip.toast("请填写密码",2e3)},resetData:function(){this.isVerify=!0,this.smsCountDown=0,this.registerFormData={phone:"",sms:"",password:"",rePassword:""}},gotoLogin:function(){uni.redirectTo({url:"/pages/login/login?type=switchTab&path=/pages/home/index"})}}};e.default=i},"475b":function(t,e,s){var i=s("0fae");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=s("967d").default;o("614fb984",i,!0,{sourceMap:!1,shadowMode:!1})},"5d8b":function(t,e,s){"use strict";s.r(e);var i=s("107f"),o=s.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){s.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"799a":function(t,e,s){"use strict";s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return i}));var i={uniForms:s("f529").default,uniFormsItem:s("79b6").default},o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"register"},[s("v-uni-view",{staticClass:"logo-img"},[s("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"/static/login/bg-black.jpeg",mode:"widthFix"}}),s("v-uni-view",{staticClass:"title"},[s("span",{staticStyle:{color:"#fff"}},[t._v("奇")]),s("span",{staticStyle:{color:"#E1C59CD9","margin-left":"6px"}},[t._v("点")])])],1),s("v-uni-view",{staticClass:"register-box"},[s("v-uni-text",{staticClass:"welcome"},[t._v("创建账户 !")]),s("v-uni-text",{staticClass:"subtitle"},[t._v("注册后继续")]),s("uni-forms",{ref:"form",staticStyle:{width:"100%"},attrs:{"label-position":"top"}},[t.isVerify?[s("uni-forms-item",{attrs:{name:"phone",label:"手机号"}},[s("v-uni-input",{staticClass:"form-input",attrs:{type:"number"},model:{value:t.registerFormData.phone,callback:function(e){t.$set(t.registerFormData,"phone",e)},expression:"registerFormData.phone"}})],1),s("uni-forms-item",{staticStyle:{position:"relative"},attrs:{name:"password",label:"验证码"}},[s("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0},model:{value:t.registerFormData.sms,callback:function(e){t.$set(t.registerFormData,"sms",e)},expression:"registerFormData.sms"}}),s("v-uni-view",{staticClass:"send-sms-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSMSSend.apply(void 0,arguments)}}},[t._v(t._s(t.getSendBtnText))])],1)]:[s("uni-forms-item",{attrs:{name:"phone",label:"密码"}},[s("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0},model:{value:t.registerFormData.password,callback:function(e){t.$set(t.registerFormData,"password",e)},expression:"registerFormData.password"}})],1),s("uni-forms-item",{staticStyle:{position:"relative"},attrs:{name:"password",label:"重复密码"}},[s("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0},model:{value:t.registerFormData.rePassword,callback:function(e){t.$set(t.registerFormData,"rePassword",e)},expression:"registerFormData.rePassword"}})],1)]],2),t.isVerify?s("v-uni-button",{staticClass:"register-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.verify.apply(void 0,arguments)}}},[t._v("验证账号")]):s("v-uni-button",{staticClass:"register-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.register.apply(void 0,arguments)}}},[t._v("注册账号")]),s("v-uni-text",{staticClass:"forgot-password",staticStyle:{"margin-top":"7px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoLogin.apply(void 0,arguments)}}},[t._v("已有账户？登陆")])],1)],1)},r=[]},abd8:function(t,e,s){"use strict";var i=s("475b"),o=s.n(i);o.a},b3cc:function(t,e,s){"use strict";s.r(e);var i=s("799a"),o=s("5d8b");for(var r in o)["default"].indexOf(r)<0&&function(t){s.d(e,t,(function(){return o[t]}))}(r);s("abd8");var a=s("828b"),n=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"73fef1c8",null,!1,i["a"],void 0);e["default"]=n.exports}}]);