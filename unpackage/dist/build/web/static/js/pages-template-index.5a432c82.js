(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-template-index"],{"636f":function(t,e,i){"use strict";i.r(e);var a=i("feb0"),n=i("db3f");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("70c8");var r=i("828b"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"980fd612",null,!1,a["a"],void 0);e["default"]=o.exports},"69c4":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8f71"),i("bf0f"),i("c223");var n=a(i("9b1b")),s=i("8f59"),r={name:"templates",data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,userId:"",runningTask:[],showReel:[]}},computed:(0,n.default)({},(0,s.mapGetters)("task",["allTasks"])),watch:{allTasks:{handler:function(){this.processTasks(),this.queryReel()},deep:!0}},mounted:function(){this.userId=uni.getStorageSync("userId")||"",this.processTasks(),this.queryReel()},methods:{processTasks:function(){this.runningTask=this.allTasks.filter((function(t){return"video"===t.type&&"running"===t.status}))},queryReel:function(){var t=this;""!==this.userId&&this.$http.get("/video_record/query",{user_id:this.userId}).then((function(e){"success"===e.status&&(t.showReel=e.data)}))},downloadVideo:function(t){this.goto("/pages/download?filepath=".concat(t.video_path,"&filename=").concat(t.filename))},goto:function(t){var e=uni.getStorageSync("userId")||"";if(""===e)return this.$tip.toast("请先登录"),void uni.redirectTo({url:"/pages/login/login?type=switchTab&path=/pages/template/index"});uni.redirectTo({url:t})}}};e.default=r},"70c8":function(t,e,i){"use strict";var a=i("7bcf"),n=i.n(a);n.a},"7bcf":function(t,e,i){var a=i("8b3b1");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("d13ab608",a,!0,{sourceMap:!1,shadowMode:!1})},"8b3b1":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".clone-cards[data-v-980fd612]{display:flex;gap:20px;padding-top:20px}.card[data-v-980fd612]{flex:1;height:100px;color:#fff;font-size:20px;padding:20px;box-sizing:border-box;border-radius:10px}.figure-bg[data-v-980fd612]{background-image:url(/static/figure-bg.png)}.voice-bg[data-v-980fd612]{background-image:url(/static/voice-bg.png)}.video-list[data-v-980fd612]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));grid-template-rows:210px;gap:10px;justify-items:center;overflow:auto}.item-img[data-v-980fd612]{width:160px;height:180px;border-radius:10px}.item-img.blurred[data-v-980fd612]{-webkit-filter:blur(8px);filter:blur(8px)}.loading-title[data-v-980fd612]{position:absolute;color:#fff;font-size:14px;width:100%;text-align:center;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.item-title[data-v-980fd612]{font-size:14px;color:#fff;width:160px;text-align:center;margin-top:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}",""]),t.exports=e},db3f:function(t,e,i){"use strict";i.r(e);var a=i("69c4"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},feb0:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pages templates",style:{height:t.safeAreaHeight-69.8+"px"}},[i("v-uni-view",{staticClass:"clone-cards"},[i("v-uni-view",{staticClass:"card figure-bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/template/figure")}}},[t._v("形象克隆")]),i("v-uni-view",{staticClass:"card voice-bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/template/voices")}}},[t._v("声音克隆")])],1),i("v-uni-view",{staticStyle:{"font-size":"18px",color:"#fff","line-height":"50px"}},[t._v("我的作品")]),i("v-uni-view",{staticClass:"video-list",staticStyle:{height:"calc(100% - 180px)"}},[t._l(t.runningTask,(function(e){return i("v-uni-view",{key:e.id,staticClass:"video-item"},[i("v-uni-view",{staticStyle:{position:"relative"}},[i("v-uni-image",{staticClass:"item-img blurred",attrs:{src:e.img}}),i("v-uni-view",{staticClass:"loading-title"},[t._v("视频生成中。。。")])],1),i("v-uni-view",{staticClass:"item-title"},[t._v(t._s(e.name))])],1)})),t._l(t.showReel,(function(e){return i("v-uni-view",{key:e.id,staticClass:"video-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.downloadVideo(e)}}},[i("v-uni-image",{staticClass:"item-img",attrs:{src:e.picture}}),i("v-uni-view",{staticClass:"item-title"},[t._v(t._s(e.filename))])],1)}))],2)],1)},n=[]}}]);