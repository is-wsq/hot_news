(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-detail"],{"0821":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".loading-container[data-v-610b468f]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.5);z-index:9999}.loading-wrapper[data-v-610b468f]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:180px;background-color:rgba(0,0,0,.5);border-radius:10px;padding:20px}.loading-video[data-v-610b468f]{width:100px;height:85px}.loading-text[data-v-610b468f]{color:#fff;margin-top:15px;font-size:16px}",""]),t.exports=e},1907:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("00f9").default,uniPopup:i("3182").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pages detail",style:{height:t.safeAreaHeight+"px"}},[i("v-uni-view",{staticClass:"nav-bar-header"},[i("uni-icons",{staticClass:"nav-bar-back",attrs:{type:"left",size:"21",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"nav-bar-title"},[t._v("热点详情")])],1),i("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"18px","font-weight":"bold","margin-left":"10px"}},[t._v(t._s(t.news.title))]),i("v-uni-view",{staticClass:"detail-card"},[t._v(t._s(t.news.details))]),i("v-uni-view",{staticClass:"warning"},[t._v("内容来源网络")]),i("v-uni-view",{staticClass:"detail-setting"},[i("v-uni-view",{staticClass:"setting-item"},[i("v-uni-view",{staticStyle:{color:"#E5E5E5"}},[t._v("字数设置")]),i("v-uni-view",{staticClass:"setting-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showWordPopup.apply(void 0,arguments)}}},[t._v(t._s(t.word+" "+t.introduce))]),i("uni-icons",{attrs:{type:"right",size:"20",color:"#E5E5E5;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showWordPopup.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"setting-item"},[i("v-uni-view",{staticStyle:{color:"#E5E5E5"}},[t._v("文案风格")]),i("v-uni-view",{staticClass:"setting-name",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showStylePopup.apply(void 0,arguments)}}},[t._v(t._s(t.style.name))]),i("uni-icons",{attrs:{type:"right",size:"20",color:"#E5E5E5;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showStylePopup.apply(void 0,arguments)}}})],1)],1),i("v-uni-button",{staticClass:"detail-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.generate.apply(void 0,arguments)}}},[t._v("口播文案生成")]),i("uni-popup",{ref:"wordPopup",attrs:{"mask-click":!1,type:"bottom"}},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-view",{staticClass:"popup-title"},[i("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"16px"}},[t._v("字数设置")]),i("uni-icons",{staticClass:"popup-close",attrs:{type:"closeempty",size:"18",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.wordPopup.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"word-content"},[i("v-uni-picker-view",{staticClass:"picker-view",attrs:{"indicator-style":t.indicatorStyle},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(t.words,(function(e,n){return i("v-uni-view",{key:n,staticClass:"picker-item",class:{option:!0,active:e.count===t.selectedWord},attrs:{value:t.value}},[t._v(t._s(e.count+" "+e.introduce))])})),1)],1)],1),i("v-uni-button",{staticClass:"detail-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wordSure.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),i("uni-popup",{ref:"stylePopup",attrs:{"mask-click":!1,type:"bottom"}},[i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-view",{staticClass:"popup-title"},[i("v-uni-view",{staticStyle:{color:"#ffffff","font-size":"16px"}},[t._v("文案风格")]),i("uni-icons",{staticClass:"popup-close",attrs:{type:"closeempty",size:"18",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.stylePopup.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"style-content"},t._l(t.styles,(function(e){return i("v-uni-view",{key:e.id,staticStyle:{flex:"none","text-align":"center"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectedStyle=e}}},[i("v-uni-view",{staticClass:"style-item",style:{border:e.id===t.selectedStyle.id?"2px solid #e99d42":""}}),i("v-uni-view",{staticStyle:{"margin-top":"10px","font-size":"14px"},style:{color:e.id===t.selectedStyle.id?"#e99d42":"#ffffff"}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-button",{staticClass:"detail-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.styleSure.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),t.isLoading?i("loading-video",{ref:"loadingVideo",attrs:{text:"口播文案生成中..."}}):t._e()],1)},o=[]},"19bc":function(t,e,i){"use strict";i.r(e);var n=i("2c99"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"2c99":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{text:{type:String,default:"Loading..."}},methods:{playVideo:function(){this.$refs.video.play()}}};e.default=n},4813:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".detail-card[data-v-6ed1d12a]{width:100%;height:calc(100% - 290px);margin-top:15px;font-size:14px;color:#fff;overflow-y:auto;box-sizing:border-box}.warning[data-v-6ed1d12a]{color:#9a9a9a;font-size:14px;margin:10px 0}.detail-setting[data-v-6ed1d12a]{margin-bottom:10px;margin-left:10px}.setting-item[data-v-6ed1d12a]{color:#fff;font-size:16px;height:35px;line-height:35px;display:flex;align-items:center}.setting-name[data-v-6ed1d12a]{flex:1;overflow-x:auto;white-space:nowrap;margin-right:20px;text-align:right;color:#e5e5e5}.detail-btn[data-v-6ed1d12a]{background-color:#e99d42;width:230px;margin:0 auto;font-size:16px;border-radius:15px;color:#101010}.popup-content[data-v-6ed1d12a]{background-color:#292929;border-top-left-radius:12px;border-top-right-radius:12px;padding:20px}.popup-title[data-v-6ed1d12a]{display:flex;align-items:center;justify-content:center;position:relative}.popup-close[data-v-6ed1d12a]{position:absolute;top:5px;right:0;color:#fff}.word-content[data-v-6ed1d12a]{height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center}.picker-view[data-v-6ed1d12a]{width:250px;height:150px;background-color:#292929!important;color:#fff}.picker-item[data-v-6ed1d12a]{height:50px;line-height:50px;text-align:center;color:#e5e5e5}.option[data-v-6ed1d12a]{text-align:center;line-height:50px;font-size:16px;transition:all .3s;background:transparent}.active[data-v-6ed1d12a]{font-size:19px;height:50px;border-radius:20px;background-color:#303030}.detail[data-v-6ed1d12a] .uni-picker-view-mask{background:none!important}.detail[data-v-6ed1d12a] .uni-picker-view-indicator:before{border:none!important}.detail[data-v-6ed1d12a] .uni-picker-view-indicator:after{border:none!important}.style-content[data-v-6ed1d12a]{width:100%;height:220px;display:flex;gap:20px;overflow-x:auto;flex-wrap:nowrap;align-items:center}.style-item[data-v-6ed1d12a]{width:80px;height:80px;border-radius:50%;background-color:#9a9a9a}",""]),t.exports=e},"5e39":function(t,e,i){"use strict";var n=i("c7d9"),a=i.n(n);a.a},"77be":function(t,e,i){"use strict";var n=i("b984"),a=i.n(n);a.a},"87c3":function(t,e,i){"use strict";i.r(e);var n=i("d095"),a=i("19bc");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5e39");var s=i("828b"),d=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"610b468f",null,!1,n["a"],void 0);e["default"]=d.exports},ae75:function(t,e,i){"use strict";i.r(e);var n=i("b125"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},b125:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c223"),i("aa9c");var a=n(i("87c3")),o={name:"Detail",components:{LoadingVideo:a.default},data:function(){return{safeAreaHeight:uni.getSystemInfoSync().safeArea.height,userId:"",newsId:null,news:{title:"标题",details:""},value:[300],words:[{count:300,introduce:"(约2分钟)"},{count:400,introduce:"(约4分钟)"}],word:300,introduce:"(约2分钟)",selectedWord:null,selectedIntroduce:"",styles:[],style:{},selectedStyle:{},indicatorStyle:"height: 50px;",isLoading:!1}},onLoad:function(t){var e=this;this.newsId=t.id,this.$http.get("/news/query",{id:t.id}).then((function(t){"success"===t.status&&(e.news=t.data)}))},onShow:function(){this.userId=uni.getStorageSync("userId")||"",this.queryStyles()},methods:{queryStyles:function(){var t=this;this.$http.get("/copywriting/styles/query/all").then((function(e){"success"===e.status&&(t.styles=e.data,t.styles.length>0&&(t.style=t.styles[0],t.selectedStyle=t.styles[0]))}))},showWordPopup:function(){this.$refs.wordPopup.open(),this.value=[this.word],this.selectedWord=this.word,this.selectedIntroduce=this.introduce},showStylePopup:function(){this.$refs.stylePopup.open()},bindChange:function(t){var e=t.detail.value[0];this.selectedWord=this.words[e].count,this.selectedIntroduce=this.words[e].introduce},wordSure:function(){this.word=this.selectedWord,this.introduce=this.selectedIntroduce,this.$refs.wordPopup.close()},styleSure:function(){this.style=this.selectedStyle,this.$refs.stylePopup.close()},generate:function(){var t=this;if(""===this.userId)return this.$tip.toast("请先登录"),void uni.navigateTo({url:"/pages/login/login?type=usual"});var e={style_id:this.style.id,news_id:this.newsId,count:this.word};this.isLoading=!0,this.$nextTick((function(){t.$refs.loadingVideo.playVideo()})),this.$http.post("/copywriting/voice",e,3e5).then((function(e){if("success"===e.status){t.isLoading=!1;var i=uni.getStorageSync("".concat(t.userId,"_").concat(t.newsId,"_script"))||[];i.push(e.data.script),uni.setStorageSync("".concat(t.userId,"_").concat(t.newsId,"_script"),i),uni.navigateTo({url:"/pages/home/copy?newsId="+t.newsId+"&word="+t.word+"&style="+t.style.id})}else t.$tip.toast(e.message)}))},back:function(){uni.switchTab({url:"/pages/home/index"})}}};e.default=o},b984:function(t,e,i){var n=i("4813");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("32938572",n,!0,{sourceMap:!1,shadowMode:!1})},b9b7:function(t,e,i){"use strict";i.r(e);var n=i("1907"),a=i("ae75");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("77be");var s=i("828b"),d=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6ed1d12a",null,!1,n["a"],void 0);e["default"]=d.exports},c7d9:function(t,e,i){var n=i("0821");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("8200160e",n,!0,{sourceMap:!1,shadowMode:!1})},d095:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"loading-container"},[e("v-uni-view",{staticClass:"loading-wrapper"},[e("v-uni-video",{ref:"video",staticClass:"loading-video",attrs:{src:"/static/loading.mp4",playsinline:!0,"webkit-playsinline":!0,loop:!0,muted:!0,"object-fit":"cover",controls:!1,"show-center-play-btn":!1}}),e("v-uni-view",{staticClass:"loading-text"},[this._v(this._s(this.text))])],1)],1)},a=[]}}]);